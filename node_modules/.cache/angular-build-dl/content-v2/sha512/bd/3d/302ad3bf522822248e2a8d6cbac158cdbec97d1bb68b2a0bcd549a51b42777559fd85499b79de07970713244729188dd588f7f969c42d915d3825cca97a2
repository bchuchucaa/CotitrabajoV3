{"version":3,"sources":["webpack:///src/app/components/log-in/log-in.page.html","webpack:///src/app/components/log-in/log-in-routing.module.ts","webpack:///src/app/components/log-in/log-in.module.ts","webpack:///src/app/components/log-in/log-in.page.scss","webpack:///src/app/components/log-in/log-in.page.ts"],"names":["routes","path","component","LogInPageRoutingModule","imports","forChild","exports","LogInPageModule","declarations","LogInPage","loadingCtrl","route","router","clienteService","notificacioneservice","aSvc","cliente","userInfo","email","givenname","familyname","localStorage","setItem","navigate","create","message","loading","present","logInClient","correo","contrasena","then","data","coincidencias","JSON","parse","stringify","error","codigo","url","dismiss","console","log","notificacionToast","GoogleAuth","signIn","googleUser","givenName","familyName","id","correos","password","selector","template"],"mappings":"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","file":"components-log-in-log-in-module-es5.js","sourcesContent":["export default \"<div>\\n\\n\\n\\n\\n\\n\\n\\n\\n    <ion-card class=\\\"formulario\\\">\\n        <header>CotitrabajoEC</header>\\n\\n        <img src=\\\"assets/img/login.gif\\\" alt=\\\"Ionic logo\\\">\\n\\n        <ion-list>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\" color=\\\"primary\\\" type=\\\"text\\\">Username</ion-label>\\n                <ion-input name=\\\"username\\\" [(ngModel)]=\\\"cliente.correo\\\" type=\\\"text\\\" spellcheck=\\\"false\\\"\\n                    autocapitalize=\\\"off\\\" required>\\n                </ion-input>\\n            </ion-item>\\n\\n\\n\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Password</ion-label>\\n                <ion-input name=\\\"password\\\" [(ngModel)]=\\\"cliente.contrasena\\\" type=\\\"password\\\" required>\\n                </ion-input>\\n            </ion-item>\\n\\n\\n        </ion-list>\\n\\n        <ion-row>\\n            <ion-col>\\n                <ion-button expand=\\\"block\\\" color=\\\"danger\\\" (click)=\\\"googleLogin()\\\">\\n                    <ion-icon name=\\\"logo-google\\\"></ion-icon>\\n                </ion-button>\\n            </ion-col>\\n\\n            <ion-col>\\n                <ion-button (click)=\\\" loInCliente() \\\" type=\\\"submit \\\" expand=\\\"block \\\">Login</ion-button>\\n            </ion-col>\\n            <ion-col>\\n                <ion-button (click)=\\\"registroCliente() \\\" color=\\\"success\\\" expand=\\\"block \\\">Registrate\\n                    <ion-icon name=\\\"pencil-outline\\\"></ion-icon>\\n                </ion-button>\\n            </ion-col>\\n        </ion-row>\\n        <a class=\\\"redirect\\\" routerLink=\\\"/log-in-artesano\\\">Eres artesano..?Registrate aqui </a>\\n    </ion-card>\\n\\n\\n\\n</div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LogInPage } from './log-in.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LogInPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LogInPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LogInPageRoutingModule } from './log-in-routing.module';\n\nimport { LogInPage } from './log-in.page';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LogInPageRoutingModule\n  ],\n  declarations: [LogInPage]\n})\nexport class LogInPageModule {}\n","export default \".login-logo {\\n  padding: 20px 0;\\n  min-height: 200px;\\n  text-align: center;\\n}\\n\\n.login-logo img {\\n  max-width: 150px;\\n}\\n\\n.list {\\n  margin-bottom: 0;\\n}\\n\\ndiv {\\n  background-image: url('backgroundLogin.jpeg');\\n  margin: auto;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\nion-card {\\n  --ion-background-color: #ffffff;\\n  width: 80%;\\n  padding: 5%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9sb2ctaW4vbG9nLWluLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBR0E7RUFDSSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksZ0JBQUE7QUFBSjs7QUFLQTtFQUNJLDZDQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFBYyxhQUFBO0VBQWUsbUJBQUE7RUFBcUIsdUJBQUE7QUFDdEQ7O0FBRUE7RUFDSSwrQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2xvZy1pbi9sb2ctaW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luLWxvZ28ge1xuICAgIHBhZGRpbmc6IDIwcHggMDtcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgXG59XG5cbi5sb2dpbi1sb2dvIGltZyB7XG4gICAgbWF4LXdpZHRoOiAxNTBweDtcbn1cblxuLmxpc3Qge1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG59XG5cblxuXG5kaXYge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9iYWNrZ3JvdW5kTG9naW4uanBlZ1wiKTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQge1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBwYWRkaW5nOiA1JTtcbiAgICBcbiAgICBcbn1cblxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { Cliente } from '../../model/cliente';\nimport { ClienteService } from '../../services/cliente.service';\nimport { NotificacionesService } from '../../services/notificaciones.service';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport '@codetrix-studio/capacitor-google-auth';\nimport { Plugins } from '@capacitor/core';\nimport { AuthService } from '../../services/auth.service';\nimport { LoadingController } from '@ionic/angular';\n\n\n\n@Component({\n  selector: 'app-log-in',\n  templateUrl: './log-in.page.html',\n  styleUrls: ['./log-in.page.scss'],\n})\nexport class LogInPage implements OnInit {\n  cliente: Cliente = new Cliente();\n  coincidenciasLogIn: Observable<any[]>;\n  coincidencias: any;\n  userInfo = null;\n  email = null;\n  givenname = null;\n  familyname = null;\n\n  constructor(private loadingCtrl: LoadingController, private route: ActivatedRoute, private router: Router, public clienteService: ClienteService, public notificacioneservice: NotificacionesService, private aSvc: AuthService) {\n    localStorage.setItem(\"uid\", \"\");\n  }\n\n  ngOnInit() {\n\n  }\n\n  registroCliente() {\n    this.router.navigate(['register']);\n  }\n\n  async loInCliente() {\n    const loading = await this.loadingCtrl.create({\n      message: 'Porfavor Espere..'\n    });\n    await  loading.present();\n    \n    await this.clienteService\n      .logInClient(this.cliente.correo, this.cliente.contrasena)\n      .then(data =>{\n        try {\n          this.coincidencias = (JSON.parse(JSON.stringify(data)))\n        } catch (error) {\n          this.coincidencias= {\"uid\":null};\n        }\n        \n      }  \n      );\n    let codigo = this.coincidencias['uid'];\n    if (codigo != null) {\n      const url = '/view-cliente/' + codigo;\n      this.router.navigate([url]);\n      loading.dismiss();\n    } else {\n      console.log(\"NO PUDIMOS ENCONTRAR TU CUENTA\");\n      this.notificacioneservice.notificacionToast(\"No pudimos encontrar tu cuenta..!  :(\");\n      loading.dismiss();\n      this.router.navigate(['/log-in']);\n    }\n\n\n  }\n\n\n  async googleLogin() {\n    const googleUser = await Plugins.GoogleAuth.signIn() as any;\n    const givenName = 'given_name';\n    const familyName = 'family_name';\n    const email = 'email';\n    const id = 'id';\n    const correos = googleUser['email'];\n    const password = googleUser['id'];\n    await this.clienteService.logInClient(correos, password).then(data => this.coincidencias = (JSON.parse(JSON.stringify(data))));\n\n    let codigo = this.coincidencias['uid'];\n    if (codigo != null) {\n      localStorage.setItem(\"uid\", codigo);\n      const url = '/view-cliente/' + codigo;\n      this.router.navigate([url]);\n\n    } else {\n      this.notificacioneservice.notificacionToast(\"No pudimos encontrar tu cuenta..!  :(\");\n      this.router.navigate(['/log-in']);\n    }\n    // this.aSvc.login(this.userInfo.email);  \n  }\n\n}\n"]}